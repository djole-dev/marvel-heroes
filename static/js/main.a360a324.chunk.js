(this["webpackJsonpmarvel-superheroes"]=this["webpackJsonpmarvel-superheroes"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},55:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(34),a(35),a(14)),s=a.n(i),l=a(24),u=a(4),j=a(25),b=a.n(j),m=a(5),d=(a(55),a(15)),h=a.n(d),g=a(27),k=a.n(g),O=a(1);var f=function(e){var t=e.id,a=e.title,r=e.img,c=Object(n.useContext)(p),o=function(){if(0===c.bookmark.length)return c.setBookmark((function(e){return[].concat(Object(m.a)(e),[{id:t,title:a,img:r}])})),void localStorage.setItem("bookmarked",JSON.stringify([].concat(Object(m.a)(c.bookmark),[{id:t,title:a,img:r}])));console.log("bookmark");for(var e=!1,n=0;n<c.bookmark.length;n++)c.bookmark[n].id===t&&(e=!0);!1===e?(c.setBookmark((function(e){return[].concat(Object(m.a)(e),[{id:t,title:a,img:r}])})),localStorage.setItem("bookmarked",JSON.stringify([].concat(Object(m.a)(c.bookmark),[{id:t,title:a,img:r}])))):e=!1},i=function(){for(var e,a=c.bookmark,n=0;n<a.length;n++)a[n].id===t&&(e=n);e>-1&&(console.log("splice"),a.splice(e,1)),c.setBookmark((function(e){return Object(m.a)(a)})),localStorage.setItem("bookmarked",JSON.stringify(a))};return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("img",{src:r,alt:"",className:"card__image"}),Object(O.jsx)("div",{className:"card__name",children:a}),function(){var e=!1;if(0===c.bookmark.length)return Object(O.jsxs)("button",{onClick:o,children:[Object(O.jsx)(h.a,{}),"Bookmark"]});for(var a=0;a<c.bookmark.length;a++)c.bookmark[a].id===t&&(e=!0);return!0===e?(e=!1,Object(O.jsxs)("button",{onClick:i,children:[Object(O.jsx)(k.a,{}),"Unbookmark"]})):(e=!1,Object(O.jsxs)("button",{onClick:o,children:[Object(O.jsx)(h.a,{}),"Bookmark"]}))}()]})},p=Object(n.createContext)(),v=function(e){var t=e.children,a=Object(n.useState)(""),r=Object(u.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)([]),j=Object(u.a)(i,2),m=j[0],d=j[1],h=Object(n.useState)(1),g=Object(u.a)(h,2),k=g[0],v=g[1],x=Object(n.useState)(20),N=Object(u.a)(x,2),P=N[0],S=N[1],_=Object(n.useState)(JSON.parse(localStorage.getItem("bookmarked"))||[]),C=Object(u.a)(_,2),y=C[0],B=C[1],I=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(t),""===t){e.next=6;break}return e.next=4,b()("https://gateway.marvel.com:443/v1/public/characters?nameStartsWith=".concat(t,"&limit=100&ts=1&apikey=").concat("0270f2ad190ce224a59c8c429913c4f2","&hash=").concat("a9ed5d73e1150f09edcb892103eb483d"));case 4:200===(a=e.sent).data.code&&d(a.data.data.results);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=k*P,J=w-P,F=m.slice(J,w).map((function(e){return Object(O.jsx)(f,{id:e.id,title:e.name,img:e.thumbnail.path+"/portrait_xlarge.jpg"},e.id)})),H=JSON.parse(localStorage.getItem("bookmarked")||"[]").map((function(e){return Object(O.jsx)(f,{id:e.id,title:e.title,img:e.img},e.id)}));return Object(O.jsx)(p.Provider,{value:{bookmark:y,setBookmark:B,input:c,setInput:o,heroes:m,setHeroes:d,currentPage:k,setCurrentPage:v,heroesPerPage:P,setHeroesPerPage:S,fetchData:I,paginate:function(e){return v(e)},whatToRender:function(){return""!==c?F:""===c?H:void 0}},children:t})},x=(a(62),a(28)),N=a.n(x),P=a.p+"static/media/marvel.4a9b7724.png";a(63);var S=function(e){for(var t=e.heroesPerPage,a=e.totalHeroes,n=e.paginate,r=e.activePage,c=[],o=1;o<=Math.ceil(a/t);o++)c.push(o);return Object(O.jsx)("div",{className:"pagination",children:Object(O.jsx)("ul",{children:c.map((function(e){return r===e?Object(O.jsx)("li",{className:"numb active",onClick:function(){return n(e)},children:Object(O.jsx)("span",{children:e})},e):Object(O.jsx)("li",{className:"numb",onClick:function(){return n(e)},children:Object(O.jsx)("span",{children:e})},e)}))})})};var _=function(){var e=Object(n.useContext)(p);return Object(O.jsxs)("div",{className:"search",children:[Object(O.jsxs)("div",{className:"search__container",children:[Object(O.jsx)("img",{src:P,alt:"",className:"search__logo"}),Object(O.jsx)(N.a,{className:"search__icon"}),Object(O.jsx)("input",{placeholder:"Enter the name of your Marvel superhero...",className:"search__input",type:"text",onChange:function(t){e.fetchData(t.target.value)}})]}),Object(O.jsx)("div",{className:"search__result",children:e.whatToRender()}),Object(O.jsx)("div",{className:"search__pagination",children:""===e.input?null:Object(O.jsx)(S,{heroesPerPage:e.heroesPerPage,totalHeroes:e.heroes.length,paginate:e.paginate,activePage:e.currentPage})})]})};var C=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(_,{})})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,77)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v,{children:Object(O.jsx)(C,{})})}),document.getElementById("root")),y()}},[[65,1,2]]]);
//# sourceMappingURL=main.a360a324.chunk.js.map